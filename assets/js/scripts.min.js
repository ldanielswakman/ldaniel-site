function openContactForm(){$("body").addClass("dialogIsActive"),setTimeout(function(){bubbleRun($(".dialog--contact").find(".bubble-wrap#bubble1"))},500)}function closeContactForm(){$(".bubble-wrap").removeClass("isLoaded"),$("form.conversation").removeClass("isSending"),$("body").removeClass("dialogIsActive")}function bubbleRun(e,t){nextTimeout=0,$form=e.closest("form"),e.hasClass("isLoaded")||(e.addClass("isLoaded"),$form[0]&&$form.scrollTop($form[0].scrollHeight),e.find("textarea, input").first().focus(),nextTimeout=1500),"false"==e.attr("data-autoplay")&&(t=!0),!0!==t&&($next=e.next(),$next.hasClass("bubble-wrap--right")?setTimeout(function(){bubbleRun($next,!0)},nextTimeout):setTimeout(function(){bubbleRun($next)},nextTimeout))}function postContactForm(e){e&&(url=e.attr("action"),form_data=e.serialize(),$response_div=e.find("#bubble_formresponse"),$success_div=e.find("#bubble_success"),e.addClass("isSending"),e.find(".field").removeClass("hasError"),$response_div.find(".bubble__content").html(""),bubbleRun(e.find('[type="submit"]').closest(".bubble-wrap"),!0),console.log("submitting form..."),$.post(url,form_data,function(t){console.log("response! success = "+t.success),0==t.success?(console.log(t),e.removeClass("isSending"),error_msg="",$.each(t.errors,function(t,n){e.find('[name="'+t+'"]').addClass("hasError"),error_msg+=n[0]}),$response_div.find(".bubble__content").html(error_msg),$response_div.addClass("isLoaded")):!0===t.success&&(e.find("#bubble_formsending, #bubble_formresponse").removeClass("isLoaded"),e.removeClass("isSending").addClass("isSuccess"),bubbleRun(e.find("#bubble_success")))}))}function scrollActions(){scroll=$(window).scrollTop(),allowMobileScroll=!0,allowMobileScroll&&$("section").each(function(){thisTop=$(this).offset().top,scrollValue=(scroll-thisTop)/1.5,$(this).find(".section__bg-image").css("-webkit-transform","translateY("+scrollValue+"px)").css("-moz-transform","translateY("+scrollValue+"px)").css("transform","translateY("+scrollValue+"px)")})}function shuffle(e){for(var t,n,o=e.length;o;t=parseInt(Math.random()*o),n=e[--o],e[o]=e[t],e[t]=n);return e}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(0,function(){function e(e){if(null===h){for(var t=e.length,n=0,o=document.getElementById(i),s="<ul>";n<t;)s+="<li>"+e[n]+"</li>",n++;s+="</ul>",o.innerHTML=s}else h(e)}function t(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function n(e){for(var t=e.getElementsByTagName("a"),n=t.length-1;n>=0;n--)t[n].setAttribute("target","_blank")}function o(e,t){for(var n=[],o=new RegExp("(^| )"+t+"( |$)"),s=e.getElementsByTagName("*"),i=0,a=s.length;i<a;i++)o.test(s[i].className)&&n.push(s[i]);return n}function s(e){if(void 0!==e&&e.innerHTML.indexOf("data-srcset")>=0){var t=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(t).split('"')[1]}}var i="",a=20,l=!0,r=[],c=!1,d=!0,u=!0,m=null,p=!0,f=!0,h=null,b=!0,g=!1,w=!0,v=!0,y=!1,$=null,_={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),c)r.push(e);else{c=!0,i=e.domId,a=e.maxTweets,l=e.enableLinks,u=e.showUser,d=e.showTime,f=e.showRetweet,m=e.dateFunction,h=e.customCallback,b=e.showInteraction,g=e.showImages,w=e.linksInNewWindow,v=e.showPermalinks,y=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==$&&t.removeChild($),($=document.createElement("script")).type="text/javascript",void 0!==e.list?$.src="https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug="+e.list.listSlug+"&screen_name="+e.list.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.profile?$.src="https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name="+e.profile.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.likes?$.src="https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name="+e.likes.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():$.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=__twttrf.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild($)}},callback:function(i){function h(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}if(void 0===i||void 0===i.body)return c=!1,void(r.length>0&&(_.fetch(r[0]),r.splice(0,1)));i.body=i.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,""),g||(i.body=i.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,"")),u||(i.body=i.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,""));var $=document.createElement("div");$.innerHTML=i.body,void 0===$.getElementsByClassName&&(p=!1);var C=[],T=[],x=[],k=[],E=[],N=[],A=[],L=0;if(p)for(S=$.getElementsByClassName("timeline-Tweet");L<S.length;)S[L].getElementsByClassName("timeline-Tweet-retweetCredit").length>0?E.push(!0):E.push(!1),(!E[L]||E[L]&&f)&&(C.push(S[L].getElementsByClassName("timeline-Tweet-text")[0]),N.push(S[L].getAttribute("data-tweet-id")),u&&T.push(h(S[L].getElementsByClassName("timeline-Tweet-author")[0])),x.push(S[L].getElementsByClassName("dt-updated")[0]),A.push(S[L].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==S[L].getElementsByClassName("timeline-Tweet-media")[0]?k.push(S[L].getElementsByClassName("timeline-Tweet-media")[0]):k.push(void 0)),L++;else for(var S=o($,"timeline-Tweet");L<S.length;)o(S[L],"timeline-Tweet-retweetCredit").length>0?E.push(!0):E.push(!1),(!E[L]||E[L]&&f)&&(C.push(o(S[L],"timeline-Tweet-text")[0]),N.push(S[L].getAttribute("data-tweet-id")),u&&T.push(h(o(S[L],"timeline-Tweet-author")[0])),x.push(o(S[L],"dt-updated")[0]),A.push(o(S[L],"timeline-Tweet-timestamp")[0]),void 0!==o(S[L],"timeline-Tweet-media")[0]?k.push(o(S[L],"timeline-Tweet-media")[0]):k.push(void 0)),L++;C.length>a&&(C.splice(a,C.length-a),T.splice(a,T.length-a),x.splice(a,x.length-a),E.splice(a,E.length-a),k.splice(a,k.length-a),A.splice(a,A.length-a));var z=[],L=C.length,M=0;if(y)for(;M<L;)z.push({tweet:C[M].innerHTML,author:T[M]?T[M].innerHTML:"Unknown Author",time:x[M].textContent,timestamp:x[M].getAttribute("datetime").replace("+0000","Z").replace(/([\+\-])(\d\d)(\d\d)/,"$1$2:$3"),image:s(k[M]),rt:E[M],tid:N[M],permalinkURL:void 0===A[M]?"":A[M].href}),M++;else for(;M<L;){if("string"!=typeof m){var B=x[M].getAttribute("datetime"),F=new Date(x[M].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),R=m(F,B);if(x[M].setAttribute("aria-label",R),C[M].textContent)if(p)x[M].textContent=R;else{var I=document.createElement("p"),W=document.createTextNode(R);I.appendChild(W),I.setAttribute("aria-label",R),x[M]=I}else x[M].textContent=R}var O="";l?(w&&(n(C[M]),u&&n(T[M])),u&&(O+='<div class="user">'+t(T[M].innerHTML)+"</div>"),O+='<p class="tweet">'+t(C[M].innerHTML)+"</p>",d&&(O+=v?'<p class="timePosted"><a href="'+A[M]+'">'+x[M].getAttribute("aria-label")+"</a></p>":'<p class="timePosted">'+x[M].getAttribute("aria-label")+"</p>")):(C[M].textContent,u&&(O+='<p class="user">'+T[M].textContent+"</p>"),O+='<p class="tweet">'+C[M].textContent+"</p>",d&&(O+='<p class="timePosted">'+x[M].textContent+"</p>")),b&&(O+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+N[M]+'" class="twitter_reply_icon"'+(w?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+N[M]+'" class="twitter_retweet_icon"'+(w?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+N[M]+'" class="twitter_fav_icon"'+(w?' target="_blank">':">")+"Favorite</a></p>"),g&&void 0!==k[M]&&void 0!==s(k[M])&&(O+='<div class="media"><img src="'+s(k[M])+'" alt="Image from tweet" /></div>'),g?z.push(O):!g&&C[M].textContent.length&&z.push(O),M++}e(z),c=!1,r.length>0&&(_.fetch(r[0]),r.splice(0,1))}};return window.__twttrf=_,window.twitterFetcher=_,_}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function o(){var t=e.style.height,o=n(e),s=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var i=e.scrollHeight+l;return 0===e.scrollHeight?void(e.style.height=t):(e.style.height=i+"px",r=e.clientWidth,o.forEach(function(e){e.node.scrollTop=e.scrollTop}),void(s&&(document.documentElement.scrollTop=s)))}function s(){o();var n=Math.round(parseFloat(e.style.height)),s=window.getComputedStyle(e,null),i=Math.round(parseFloat(s.height));if(i!==n?"visible"!==s.overflowY&&(t("visible"),o(),i=Math.round(parseFloat(window.getComputedStyle(e,null).height))):"hidden"!==s.overflowY&&(t("hidden"),o(),i=Math.round(parseFloat(window.getComputedStyle(e,null).height))),c!==i){c=i;var l=a("autosize:resized");try{e.dispatchEvent(l)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var l=null,r=e.clientWidth,c=null,d=function(){e.clientWidth!==r&&s()},u=function(t){window.removeEventListener("resize",d,!1),e.removeEventListener("input",s,!1),e.removeEventListener("keyup",s,!1),e.removeEventListener("autosize:destroy",u,!1),e.removeEventListener("autosize:update",s,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",u,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",s,!1),window.addEventListener("resize",d,!1),e.addEventListener("input",s,!1),e.addEventListener("autosize:update",s,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:u,update:s}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),l="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(l)&&(l=0),s()}()}}function o(e){var t=i.get(e);t&&t.destroy()}function s(e){var t=i.get(e);t&&t.update()}var i="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}}(),a=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(l=function(e){return e},l.destroy=function(e){return e},l.update=function(e){return e}):(l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e},l.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e}),t.exports=l}),$(document).ready(function(){$('.dialog--contact [data-action="continue"]').on("click touchstart",function(e){e.preventDefault(),$(this).closest(".bubble-wrap.isLoaded").nextAll().length>0?($next=$(this).closest(".bubble-wrap"),$(this).closest(".bubble-wrap").nextAll().removeClass("isLoaded"),setTimeout(function(){bubbleRun($next)},500)):bubbleRun($(this).closest(".bubble-wrap"))}),$(".dialog--contact .bubble").find("textarea, input").on("keypress keydown",function(e){13==e.keyCode&&1==e.shiftKey&&(e.preventDefault(),bubbleRun($(this).closest(".bubble-wrap")))}),$(".dialog--contact form").on("submit",function(e){e.preventDefault(),postContactForm($(this))}),$('.dialog--contact [data-action="dialog-close"]').on("click touchstart",function(e){closeContactForm()})}),$(document).on("keydown",function(e){27==e.keyCode&&closeContactForm()}),$(document).ready(function(){$touch=!!navigator.userAgent.match(/(Android|webOS|iPad|iPhone|iPod|BlackBerry)/i),$touch&&$("body").addClass("isTouch");$touch;$("body").addClass("isLoaded"),$(".logo").addClass("animated"),setTimeout(function(){$("body").removeClass("header-full")},1500),autosize($("textarea")),$('a[href^="#"]').smoothScroll({afterScroll:function(){location.hash=$(this).attr("href"),$(this).blur()}}),$(".project-container").length>0&&$(".project-container").isotope({itemSelector:".project",layoutMode:"fitRows",getSortData:{name:".project-title"},sortBy:"asc",sortAscending:!0}),scrollActions()}),$(document).ready(function(){$(".owl-carousel").owlCarousel({items:1,autoWidth:!0,nav:!1,dotsEach:1})}),$(document).ready(function(){$("#ldaniel_location").length>0&&$("#ldaniel_location").attr("data-url").length>0&&($url=$("#ldaniel_location").attr("data-url"),$.getJSON($url,function(e){$.each(e.location,function(e,t){"2017"==t.year&&(current=t.location_city+" "+t.location_flag)}),current?(html="Currently in: <strong>",html+=current,html+="</strong>",$("#ldaniel_location").html(html)):console.log("No location found for curent year")}))}),$(document).ready(function(){$token="92024af1ed1c7f87d7fe417bcad6de02afe6cafe6a539bafbbc1b56dda6c6628",$num_results=4,$base_url="https://api.dribbble.com/v1/users/ldanielswakman/shots?per_page="+$num_results,$.getJSON($base_url+"&access_token="+$token,function(e){$container=$("#dribbblefeed"),$container.html(),shuffle(e),html="",$.each(e,function(e,t){html+='<a href="'+t.html_url+'" class="card card--shadow" target="_blank">',html+="<figure>",html+='<img src="'+t.images.normal+'" alt="">',html+="</figure>",html+="</a>"}),html+='<a href="https://www.dribbble.com/ldanielswakman" target="_blank" class="card card--words card--shadow" style="padding: 6rem 1.5rem; text-align: center; color: blue;">See all shots &rarr;</div>',$container.append(html),$container.closest("section").removeClass("section--collapsed"),$container.addClass("owl-carousel"),$container.owlCarousel({items:1,autoWidth:!0,nav:!1,dotsEach:1})})}),$(window).scroll(function(){scrollActions()}),$(window).resize(function(){scrollActions()}),$(document).bind("scrollstart",function(){scrollActions()}),$(document).bind("scrollstop",function(){scrollActions()}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});